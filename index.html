<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sterling Horizon Global Limited - Allowance Application Form</title>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
    * { box-sizing: border-box; font-family: 'Roboto', sans-serif; margin: 0; padding: 0; }
    body { background: #f4f6f8; color: #222; }
    header { background: #1a73e8; color: #fff; padding: 25px 0; text-align: center; }
    header h1 { font-size: 2rem; font-weight: 700; }
    .container { max-width: 650px; margin: 30px auto; background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); }
    .container h2 { text-align: center; margin-bottom: 25px; color: #1a73e8; }
    label { display: block; margin-top: 14px; font-weight: 500; }
    input, select, textarea { width: 100%; padding: 12px; margin-top: 6px; border: 1px solid #ccc; border-radius: 8px; font-size: 1rem; }
    textarea { resize: vertical; }
    button { margin-top: 22px; width: 100%; padding: 14px; border: none; border-radius: 8px; background: #1a73e8; color: #fff; font-size: 1.1rem; cursor: pointer; font-weight: 600; transition: 0.3s; }
    button:hover { background: #155ab6; }
    .success, .error { margin-top: 16px; padding: 14px; border-radius: 8px; font-weight: 500; }
    .success { background: #e6f9ed; color: #0f5132; }
    .error { background: #fdecea; color: #842029; }
    footer { text-align: center; padding: 18px; margin-top: 40px; color: #777; font-size: 0.95rem; }
    @media (max-width: 768px) { .container { padding: 20px; } }
</style>
</head>
<body>
<header>
    <h1>Sterling Horizon Global Limited</h1>
</header>

<div class="container">
    <h2>Allowance Application Form</h2>
    <form id="applicationForm">
        <label>Full Name</label>
        <input type="text" id="name" placeholder="Enter your full name" required>

        <label>Date of Birth</label>
        <input type="date" id="dob" required>

        <label>Gender</label>
        <select id="gender" required>
            <option value="">Select...</option>
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
        </select>

        <label>Address</label>
        <textarea id="address" rows="2" placeholder="Enter your full address" required></textarea>

        <label>Contact (Phone / Email)</label>
        <input type="text" id="contact" placeholder="Phone number or email" required>

        <label>Allowance Type</label>
        <select id="type" required>
            <option value="">Select...</option>
            <option>Education</option>
            <option>Medical</option>
            <option>Housing</option>
            <option>Other</option>
        </select>

        <label>Amount Requested</label>
        <input type="number" id="amount" placeholder="Enter the amount" required>

        <label>Reason for Application</label>
        <textarea id="reason" rows="3" placeholder="Explain why you are requesting this allowance" required></textarea>

        <label>Upload Supporting Document (ID, Proof, etc.)</label>
        <input type="file" id="fileInput" accept=".jpg,.jpeg,.png,.pdf">

        <button type="submit">Submit Application</button>
    </form>
    <div id="message"></div>
</div>

<footer>
    &copy; 2025 Sterling Horizon Global Limited. All rights reserved.
</footer>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

<script>
    // ------------------- CONFIGURATION -------------------
    const firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "YOUR_AUTH_DOMAIN",
        projectId: "YOUR_PROJECT_ID",
        storageBucket: "YOUR_STORAGE_BUCKET",
        messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
        appId: "YOUR_APP_ID"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const storage = firebase.storage();

    const form = document.getElementById('applicationForm');
    const messageDiv = document.getElementById('message');

    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        messageDiv.innerHTML = "";

        try {
            // Collect form data
            const name = document.getElementById('name').value;
            const dob = document.getElementById('dob').value;
            const gender = document.getElementById('gender').value;
            const address = document.getElementById('address').value;
            const contact = document.getElementById('contact').value;
            const type = document.getElementById('type').value;
            const amount = document.getElementById('amount').value;
            const reason = document.getElementById('reason').value;
            const file = document.getElementById('fileInput').files[0];

            let fileURL = null;

            // Upload file if exists
            if(file){
                const storageRef = storage.ref('applicationFiles/' + Date.now() + '_' + file.name);
                await storageRef.put(file);
                fileURL = await storageRef.getDownloadURL();
            }

            // Save application in Firestore
            await db.collection("allowanceApplications").add({
                name, dob, gender, address, contact, type, amount, reason, fileURL,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            });

            messageDiv.innerHTML = `<div class="success">✅ Your application has been submitted successfully!</div>`;
            form.reset();
        } catch (error) {
            console.error(error);
            messageDiv.innerHTML = `<div class="error">❌ Failed to submit application: ${error.message}</div>`;
        }
    });
</script>

</body>
</html>
